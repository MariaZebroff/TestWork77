(()=>{"use strict";const t=cityData.root_url,e=t=>{const e=document.querySelector("#cities-table-body");e.innerHTML="",console.log("DATA FROM FUNCTION",t),0!==t.length?t.forEach((t=>{const n=document.createElement("tr");n.innerHTML=`\n            <td>${t.city}</td>\n            <td>${t.country}</td>\n            <td>${t.temperature}</td>\n        `,e.appendChild(n)})):e.innerHTML="<tr><td colspan='3'>No cities found.</td></tr>"},n=()=>{document.querySelector("#cities-table-body").innerHTML="<tr id='loader'><td colspan='3'>Data Loading...</td></tr>"};document.addEventListener("DOMContentLoaded",(async function(){const o=document.getElementById("city-search"),r=document.getElementById("reset");let c,a=!1;async function i(){if(!a){n();try{const n=await fetch(`${t}/wp-json/cities/v1/search`);if(!n.ok)throw new Error(`HTTP error! Status: ${n.status}`);const o=await n.json();e(o),a=!0}catch(t){console.error("Error fetching city data:",t)}}}var s;i(),r.addEventListener("click",(()=>{a=!1,o.value="",i()})),o.addEventListener("input",(s=async function(){const r=o.value.trim();if(r){n();try{const n=await fetch(`${t}/wp-json/cities/v1/search?term=${r}`);if(404===n.status)return void e([]);if(!n.ok)throw new Error(`HTTP error! Status: ${n.status}`);const o=await n.json();console.log("Fetched Data FROM INPUT:",o),e(o)}catch(t){console.error("Error fetching city data:",t)}}},function(...t){clearTimeout(c),c=setTimeout((()=>s.apply(this,t)),300)}))}))})();